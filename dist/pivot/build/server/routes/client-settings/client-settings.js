"use strict";var nike_hercules_1=require("@implydata/nike-hercules");var config_1=require("../../config");var router=nike_hercules_1.HerculesServer.makeRouter();router.post("/",function(e,r){var t=e.body.settingsVersion;if(config_1.LICENSE_MANGER.isExpired()){r.status(501).send({error:"evaluation expired"});return}e.getFullSettings({expectedVersion:t}).then(function(e){var t=e.appSettings;r.send({clientSettings:t.toClientSettings()})},function(e){console.log("error:",e.message);if(e.hasOwnProperty("stack")){console.log(e.stack)}r.status(500).send({error:"could not compute",message:e.message})}).done()});module.exports=router;