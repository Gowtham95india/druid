"use strict";var __extends=this&&this.__extends||function(t,e){for(var a in e)if(e.hasOwnProperty(a))t[a]=e[a];function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)};var immutable_class_1=require("immutable-class");var SettingsLocation=function(t){__extends(e,t);function e(e){t.call(this,e);if(this.location==="file"&&this.table)this.table=null}e.isSettingsLocation=function(t){return t instanceof e};e.fromJS=function(t){return new e(immutable_class_1.BaseImmutable.jsToValue(e.PROPERTIES,t))};e.prototype.getFormat=function(){if(this.format)return this.format;if(this.location==="file"){if(/\.json$/.test(this.uri)){return"json"}else if(/\.yaml$/.test(this.uri)){return"yaml"}}return e.DEFAULT_FORMAT};e.LOCATION_VALUES=["file","mysql","postgres"];e.DEFAULT_FORMAT="json";e.FORMAT_VALUES=["json","json-pretty","yaml"];e.PROPERTIES=[{name:"location",possibleValues:e.LOCATION_VALUES},{name:"uri"},{name:"table",defaultValue:null},{name:"pollingInterval",defaultValue:6e4},{name:"format",defaultValue:e.DEFAULT_FORMAT,possibleValues:e.FORMAT_VALUES},{name:"readOnly",defaultValue:false},{name:"initialSettings",defaultValue:false}];return e}(immutable_class_1.BaseImmutable);exports.SettingsLocation=SettingsLocation;immutable_class_1.BaseImmutable.finalize(SettingsLocation);