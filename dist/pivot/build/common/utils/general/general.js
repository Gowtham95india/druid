"use strict";var objectHasOwnProperty=Object.prototype.hasOwnProperty;function hasOwnProperty(e,r){if(!e)return false;return objectHasOwnProperty.call(e,r)}exports.hasOwnProperty=hasOwnProperty;function makeTitle(e){return e.replace(/^[ _\-]+|[ _\-]+$/g,"").replace(/(^|[_\-]+)\w/g,function(e){return e.replace(/[_\-]+/," ").toUpperCase()}).replace(/[a-z0-9][A-Z]/g,function(e){return e[0]+" "+e[1]})}exports.makeTitle=makeTitle;function makeNameFromFormula(e){return e.replace(/^[.()$-_]+/g,"").replace(/[.()$-_]+$/g,"").replace(/(\.|\(|\)|\$|\-|\_)+/g,"-")}exports.makeNameFromFormula=makeNameFromFormula;function collect(e,r){var n;var t=function(){n=null;r()};return function(){if(!n){n=setTimeout(t,e)}}}exports.collect=collect;var URL_UNSAFE_CHARS=/[^\w.~\-]+/g;function makeUrlSafeName(e){return e.replace(URL_UNSAFE_CHARS,"_")}exports.makeUrlSafeName=makeUrlSafeName;function verifyUrlSafeName(e){if(typeof e!=="string")throw new TypeError("name must be a string");if(!e.length)throw new Error("can not have empty name");var r=makeUrlSafeName(e);if(e!==r){throw new Error("'"+e+"' is not a URL safe name. Try '"+r+"' instead?")}}exports.verifyUrlSafeName=verifyUrlSafeName;function arraySum(e){return e.reduce(function(e,r){return e+r},0)}exports.arraySum=arraySum;function findFirstBiggerIndex(e,r,n){if(!r)return-1;var t=n(r);return e.findIndex(function(e){return n(e)>t})}exports.findFirstBiggerIndex=findFirstBiggerIndex;function findBiggerClosestToIdeal(e,r,n,t){var i=e.findIndex(function(e){return t(e)>=t(r)});var a=e.slice(i);return a.reduce(function(e,r,i,a){return Math.abs(t(e)-t(n))<Math.abs(t(r)-t(n))?e:r})}exports.findBiggerClosestToIdeal=findBiggerClosestToIdeal;function findExactIndex(e,r,n){return e.findIndex(function(e){return n(e)===n(r)})}exports.findExactIndex=findExactIndex;function findMaxValueIndex(e,r){return e.reduce(function(e,n,t,i){return r(n)>r(i[e])?t:e},0)}exports.findMaxValueIndex=findMaxValueIndex;function findMinValueIndex(e,r){return e.reduce(function(e,n,t,i){return r(n)<r(i[e])?t:e},0)}exports.findMinValueIndex=findMinValueIndex;function log10(e){return Math.log(e)*Math.LOG10E}function toSignificantDigits(e,r){var n=Math.pow(10,r-Math.floor(Math.log(e)/Math.LN10)-1);return Math.round(e*n)/n}exports.toSignificantDigits=toSignificantDigits;function getNumberOfWholeDigits(e){return Math.max(Math.floor(log10(Math.abs(e))),0)+1}exports.getNumberOfWholeDigits=getNumberOfWholeDigits;function inlineVars(e,r){return JSON.parse(JSON.stringify(e).replace(/%\{[\w\-]+\}%/g,function(e){e=e.substr(2,e.length-4);var n=r[e];if(typeof n!=="string")throw new Error("could not find variable '"+e+"'");n=JSON.stringify(n);return n.substr(1,n.length-2)}))}exports.inlineVars=inlineVars;function ensureOneOf(e,r,n){if(r.indexOf(e)!==-1)return;var t=typeof e==="undefined"?"not defined":"'"+e+"'";throw new Error(n+" must be on of '"+r.join("', '")+"' (is "+t+")")}exports.ensureOneOf=ensureOneOf;function pluralIfNeeded(e,r){return e+" "+r+(e===1?"":"s")}exports.pluralIfNeeded=pluralIfNeeded;function isSubset(e,r){return e.every(function(e){return r.indexOf(e)!==-1})}exports.isSubset=isSubset;