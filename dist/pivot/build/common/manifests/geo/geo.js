"use strict";var __extends=this&&this.__extends||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i];function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)};var index_1=require("../../models/index");var manifest_1=require("../../models/manifest/manifest");var GeoManifest=function(e){__extends(t,e);function t(){e.apply(this,arguments);this.name="geo";this.title="Geo"}t.prototype.canHandleSplitDimensions=function(e,t,i,n){if(t.length&&t.every(function(e){return e.geo})){return manifest_1.Resolve.proceedWithDimensions()}var o=e.getSplitableDimensions().filter(function(e){return e.isGeo()});if(o.length){return manifest_1.Resolve.rejectDimensions("The Geo visualization requires one geo split",o.map(function(e){return manifest_1.SplitSuggestion.fromTitleAndSplit("Split on "+e.title,index_1.SplitCombine.fromDimensionAndFilterAndMeasure(e,i,n))}))}else{return manifest_1.Resolve.rejectDimensions("The Geo visualization needs a geo split.",[])}};t.prototype.getSuitability=function(e,t,i,n){var o=t.splitCombines.some(function(e){return!e.sortAction});return o?new manifest_1.Suitability(8):new manifest_1.Suitability(10)};return t}(manifest_1.Manifest);exports.GeoManifest=GeoManifest;exports.GEO_MANIFEST=new GeoManifest;