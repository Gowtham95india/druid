"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var React=require("react");var beltful_1=require("@implydata/beltful");var little_pictures_1=require("@implydata/little-pictures");var svg_icon_1=require("../svg-icon/svg-icon");var RoundIcon=function(_super){__extends(RoundIcon,_super);function RoundIcon(){_super.call(this);this.state={}}RoundIcon.prototype.onHelpClick=function(){this.setState({helpVisible:!this.state.helpVisible,hideHelpIfNoError:false})};RoundIcon.prototype.renderIcon=function(){var _a=this.props,helpText=_a.helpText,errorText=_a.errorText;if(!helpText&&!errorText)return null;var helpVisible=this.state.helpVisible;if(errorText){return React.createElement("div",{className:"icon-container error",onClick:this.onHelpClick.bind(this)},React.createElement(svg_icon_1.SvgIcon,{className:"icon",svg:little_pictures_1.HELP}))}if(helpVisible){return React.createElement("div",{className:"icon-container visible",onClick:this.onHelpClick.bind(this)},React.createElement(svg_icon_1.SvgIcon,{className:"icon",svg:little_pictures_1.HELP}))}return React.createElement("div",{className:"icon-container",onClick:this.onHelpClick.bind(this)},React.createElement(svg_icon_1.SvgIcon,{className:"icon",svg:little_pictures_1.HELP}))};RoundIcon.prototype.renderAdditionalText=function(){var _a=this.props,helpText=_a.helpText,errorText=_a.errorText;var helpVisible=this.state.helpVisible;if(!helpVisible&&!errorText)return null;return React.createElement("div",{className:"additional-text"},errorText?React.createElement("div",{className:"error-text"},beltful_1.firstUp(errorText)):null,helpVisible?React.createElement("div",{className:"help-text",dangerouslySetInnerHTML:{__html:helpText}}):null)};RoundIcon.prototype.render=function(){var _a=this.props,errorText=_a.errorText,isBubble=_a.isBubble;return React.createElement("div",{className:beltful_1.classNames("round-icon",{error:!!errorText,bubble:isBubble})},this.renderIcon(),this.renderAdditionalText())};return RoundIcon}(React.Component);exports.RoundIcon=RoundIcon;