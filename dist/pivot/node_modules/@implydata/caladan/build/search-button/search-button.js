"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)};var React=require("react");var button_1=require("../button/button");var clearable_input_1=require("../clearable-input/clearable-input");var SearchButton=function(_super){__extends(SearchButton,_super);function SearchButton(){_super.call(this);this.state={}}SearchButton.prototype.toggleMode=function(){this.setState({inputVisible:!this.state.inputVisible})};SearchButton.prototype.onChange=function(newValue){var onChange=this.props.onChange;this.setState({value:newValue},function(){return onChange(newValue)})};SearchButton.prototype.onBlur=function(){if(!this.state.value)this.toggleMode()};SearchButton.prototype.render=function(){var label=this.props.label;var _a=this.state,inputVisible=_a.inputVisible,value=_a.value;return React.createElement("div",{className:"search-button"},inputVisible?React.createElement(clearable_input_1.ClearableInput,{focusOnMount:true,onBlur:this.onBlur.bind(this),onClear:this.toggleMode.bind(this),onChange:this.onChange.bind(this),value:value}):React.createElement(button_1.Button,{type:"light-action",onClick:this.toggleMode.bind(this),title:label||"Search"}))};return SearchButton}(React.Component);exports.SearchButton=SearchButton;